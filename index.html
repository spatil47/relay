<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content = "height = device-height, width = 420, user-scalable = no" /> 
	<title>Wireless Power Squid -- Control Panel</title>
	<script type="text/javascript" src="/webiopi.js"></script>
	<script type="text/javascript">
	webiopi().ready(function() {
		webiopi().setFunction(2, "out");
		webiopi().setFunction(3, "out");
		webiopi().setFunction(4, "out");
		webiopi().setFunction(17, "out");
		webiopi().setFunction(27, "out");
		webiopi().setFunction(22, "out");
		webiopi().setFunction(10, "out");
		webiopi().setFunction(9, "out");

		var content, button;
		content = $("#content");
			
	// "Relay 1" labeled button for GPIO 2
		button = webiopi().createGPIOButton(2, "Relay 1");
		content.append(button); // append button to content div
	// "Relay 2" labeled button for GPIO 3
		button = webiopi().createGPIOButton(3, "Relay 2");
		content.append(button); // append button to content div
	// "Relay 3" labeled button for GPIO 4
		button = webiopi().createGPIOButton(4, "Relay 3");
		content.append(button); // append button to content div
	// "Relay 4" labeled button for GPIO 17
		button = webiopi().createGPIOButton(17, "Relay 4");
		content.append(button); // append button to content div
	// "Relay 5" labeled button for GPIO 27
		button = webiopi().createGPIOButton(27, "Relay 5");
		content.append(button); // append button to content div
	// "Relay 6" labeled button for GPIO 22
		button = webiopi().createGPIOButton(22, "Relay 6");
		content.append(button); // append button to content div
	// "Relay 7" labeled button for GPIO 10
		button = webiopi().createGPIOButton(10, "Relay 7");
		content.append(button); // append button to content div
	// "Relay 8" labeled button for GPIO 9
		button = webiopi().createGPIOButton(9, "Relay 8");
		content.append(button); // append button to content div
	       
	// create a button that output a single pulse
//		 button = webiopi().createPulseButton("pulse", "Pulse", 2);
//		content.append(button); // append button to content div
		
		// you can also create a button which calls a different function for mouse down and up events
		button = webiopi().createButton("hold", "Hold", mousedown, mouseup);
		content.append(button);
		
		webiopi().refreshGPIO(true);
	});
		
	function mousedown() {
		webiopi().digitalWrite(2, 1);
	}
	
	function mouseup() {
		webiopi().digitalWrite(2, 0);
	}
	
	</script>
	<style type="text/css">
		button {
			display: block;
			margin: 5px 5px 5px 5px;
			width: 160px;
			height: 45px;
			font-size: 24pt;
			font-weight: bold;
			color: black;
		}
		
		input[type="range"] {
			display: block;
			width: 160px;
			height: 45px;
		}
		
		.LOW {
			background-color: Red;
		}
		
		.HIGH {
			background-color: White;
		}
	</style>
</head>
<body>
	<div id="content" align="center"></div>
</body>
</html>
